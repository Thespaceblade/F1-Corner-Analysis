(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2054:function(e,a,s){Promise.resolve().then(s.bind(s,1244))},1244:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return h}});var t=s(9268),n=s(6006);let i=[2025],l=["VER","LEC","NOR","HAM"];function r(e){let{tracks:a,selectedTrack:s,onTrackChangeAction:r}=e,[c,d]=(0,n.useState)(["VER","NOR"]),o=e=>{d(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])};return(0,t.jsxs)("div",{className:"panel p-3 flex flex-col sm:flex-row sm:items-center gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("select",{className:"input-slim min-w-[120px]",value:2025,disabled:!0,children:i.map(e=>(0,t.jsx)("option",{value:e,children:e},e))}),(0,t.jsxs)("select",{className:"input-slim min-w-[240px]",value:s,onChange:e=>r(e.target.value),children:[(0,t.jsx)("option",{value:"",children:"Select Track"}),a.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,t.jsxs)("select",{className:"input-slim min-w-[120px]",children:[(0,t.jsx)("option",{value:"Q",children:"Qualifying"}),(0,t.jsx)("option",{value:"R",children:"Race"})]})]}),(0,t.jsx)("div",{className:"flex-1 flex items-center justify-end gap-2",children:l.map(e=>(0,t.jsx)("button",{onClick:()=>o(e),className:"chip ".concat(c.includes(e)?"ring-1 ring-accent":""),children:e},e))})]})}let c={"abudhabi.svg":async()=>(await s.e(641).then(s.bind(s,8641))).default,"australia.svg":async()=>(await s.e(78).then(s.bind(s,3078))).default,"austria.svg":async()=>(await s.e(53).then(s.bind(s,5053))).default,"azerbaijan.svg":async()=>(await s.e(670).then(s.bind(s,1670))).default,"bahrain.svg":async()=>(await s.e(607).then(s.bind(s,5607))).default,"brazil.svg":async()=>(await s.e(709).then(s.bind(s,7709))).default,"canada.svg":async()=>(await s.e(605).then(s.bind(s,5605))).default,"china.svg":async()=>(await s.e(710).then(s.bind(s,9710))).default,"hungary.svg":async()=>(await s.e(647).then(s.bind(s,6647))).default,"imola.svg":async()=>(await s.e(499).then(s.bind(s,8774))).default,"japan.svg":async()=>(await s.e(896).then(s.bind(s,896))).default,"las_vegas.svg":async()=>(await s.e(251).then(s.bind(s,251))).default,"mexico.svg":async()=>(await s.e(566).then(s.bind(s,8566))).default,"miami.svg":async()=>(await s.e(150).then(s.bind(s,3150))).default,"monaco.svg":async()=>(await s.e(168).then(s.bind(s,2168))).default,"monza.svg":async()=>(await s.e(593).then(s.bind(s,5593))).default,"netherlands.svg":async()=>(await s.e(762).then(s.bind(s,5762))).default,"portugal.svg":async()=>(await s.e(57).then(s.bind(s,2057))).default,"qatar.svg":async()=>(await s.e(122).then(s.bind(s,1122))).default,"saudi_arabia.svg":async()=>(await s.e(775).then(s.bind(s,4775))).default,"silverstone.svg":async()=>(await s.e(510).then(s.bind(s,9510))).default,"singapore.svg":async()=>(await s.e(945).then(s.bind(s,945))).default,"spa.svg":async()=>(await s.e(8).then(s.bind(s,2008))).default,"spain.svg":async()=>(await s.e(161).then(s.bind(s,6161))).default,"usa.svg":async()=>(await s.e(617).then(s.bind(s,8617))).default};async function d(e){let a=c[e];if(!a)throw Error("Unsupported track SVG: ".concat(e));return a()}function o(e){let{svgFile:a,corners:s}=e,[i,l]=(0,n.useState)(null),[r,c]=(0,n.useState)(null),[o,u]=(0,n.useState)(null),[h,m]=(0,n.useState)(!1),x=n.useRef(0);return(0,n.useEffect)(()=>{if(!a)return;l(null),c(null),u(null),m(!1);let e=x.current+1;x.current=e,d(a).then(a=>{if(e!==x.current)return;let s=a.match(/viewBox\s*=\s*"([^"]+)"/)||a.match(/viewBox\s*=\s*'([^']+)'/);if(s&&s[1]){let a=s[1].trim().split(/\s+/).map(Number);4===a.length&&a.every(e=>!Number.isNaN(e))&&e===x.current&&c({minX:a[0],minY:a[1],w:a[2],h:a[3]})}if(e===x.current){let e=a.replace(/<svg([\s\S]*?)>/i,(e,a)=>{let s=a;return/width=/i.test(s)?s=s.replace(/width\s*=\s*(["']).*?\1/i,'width="100%"'):s+=' width="100%"',/height=/i.test(s)?s=s.replace(/height\s*=\s*(["']).*?\1/i,'height="100%"'):s+=' height="100%"',/preserveAspectRatio=/i.test(s)?s=s.replace(/preserveAspectRatio\s*=\s*(["']).*?\1/i,'preserveAspectRatio="xMidYMid meet"'):s+=' preserveAspectRatio="xMidYMid meet"',"<svg".concat(s,">")});l(e)}}).catch(s=>{e===x.current&&(console.error("Failed to load SVG",a,s),u("Failed to load ".concat(a,": ").concat(s.message)),l(null),m(!0))})},[a]),(0,n.useEffect)(()=>{i&&m(!0)},[i]),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"subpanel p-3",style:{width:"100%"},children:(0,t.jsxs)("div",{className:"relative",children:[o&&(0,t.jsx)("div",{className:"p-3 mb-2 text-sm text-red-400 bg-red-900/20 rounded",children:o}),i&&(0,t.jsxs)("div",{className:"p-2 mb-2 text-xs text-gray-300",children:["Loaded track: ",(0,t.jsx)("code",{children:a})]}),(0,t.jsxs)("div",{className:"relative w-full max-w-[460px] mx-auto aspect-square",children:[i&&h?(0,t.jsx)("div",{className:"track-svg absolute inset-0",dangerouslySetInnerHTML:{__html:i}}):(0,t.jsx)("div",{className:"absolute inset-0 bg-gray-800 flex items-center justify-center text-sm text-gray-400",children:"Loading track..."}),r&&(0,t.jsx)("svg",{viewBox:"".concat(r.minX," ").concat(r.minY," ").concat(r.w," ").concat(r.h),preserveAspectRatio:"xMidYMid meet",className:"absolute inset-0 w-full h-full pointer-events-none",children:s.map(e=>(0,t.jsxs)("g",{children:[(0,t.jsx)("circle",{cx:e.x,cy:e.y,r:Math.max(4,.01*Math.min(r.w,r.h)),fill:"slow"===e.type?"#ef4444":"medium"===e.type?"#f59e0b":"#10b981",opacity:.85}),(0,t.jsx)("text",{x:e.x,y:e.y-.02*r.h,fontSize:Math.max(10,Math.round(.03*r.h)),fill:"#ffffff",textAnchor:"middle",children:e.number})]},e.number))})]})]})}),(0,t.jsxs)("div",{className:"mt-2 flex gap-2 justify-center text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-500 opacity-75"}),"Slow"]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full bg-yellow-500 opacity-75"}),"Medium"]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500 opacity-75"}),"Fast"]})]})]})}function u(e){let{corners:a,cornerInfo:s}=e;return(0,t.jsx)("div",{children:(0,t.jsxs)("table",{className:"w-full table-auto text-left",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"pb-2",children:"Corner"}),(0,t.jsx)("th",{className:"pb-2",children:"Type"}),(0,t.jsx)("th",{className:"pb-2",children:"Driver A"}),(0,t.jsx)("th",{className:"pb-2",children:"Driver B"}),(0,t.jsx)("th",{className:"pb-2",children:"Winner"}),(0,t.jsx)("th",{className:"pb-2",children:"Delta (s)"})]})}),(0,t.jsx)("tbody",{children:a.map(e=>{var a,n,i,l,r,c;let d=s.find(a=>a.number===e.cornerNumber);return(0,t.jsxs)("tr",{className:"border-t border-[var(--border-clr)]",children:[(0,t.jsx)("td",{className:"py-2",children:e.cornerNumber}),(0,t.jsxs)("td",{className:"py-2",children:[(0,t.jsx)("span",{className:"inline-block w-2 h-2 rounded-full mr-2 bg-".concat((null==d?void 0:d.type)==="slow"?"red":(null==d?void 0:d.type)==="medium"?"yellow":"green","-500")}),null!==(c=null==d?void 0:d.type)&&void 0!==c?c:"unknown"]}),(0,t.jsx)("td",{className:"py-2",children:null===(n=e.driverA)||void 0===n?void 0:null===(a=n.cornerTime)||void 0===a?void 0:a.toFixed(3)}),(0,t.jsx)("td",{className:"py-2",children:null===(l=e.driverB)||void 0===l?void 0:null===(i=l.cornerTime)||void 0===i?void 0:i.toFixed(3)}),(0,t.jsx)("td",{className:"py-2",children:e.winner}),(0,t.jsx)("td",{className:"py-2",children:null===(r=e.delta_s)||void 0===r?void 0:r.toFixed(3)})]},e.cornerNumber)})})]})})}function h(){let[e,a]=(0,n.useState)(""),[s,i]=(0,n.useState)(null);(0,n.useEffect)(()=>{fetch("/data/tracks.json").then(e=>e.json()).then(i)},[]);let[l,c]=(0,n.useState)(null),[d,h]=(0,n.useState)(2025);(0,n.useEffect)(()=>{fetch("/data/calendar2025.json").then(e=>e.json()).then(c)},[]);let m=null==s?void 0:s.tracks[e],x=null==l?void 0:l.rounds.find(a=>a.id===e);if(!s||!l)return(0,t.jsx)("div",{children:"Loading..."});let f=l.rounds.map(e=>({id:e.id,name:e.name}));return(0,t.jsxs)("main",{className:"max-w-6xl mx-auto px-4",children:[(0,t.jsxs)("header",{className:"mb-6",children:[(0,t.jsx)("h1",{className:"text-3xl font-semibold",children:"F1 Corner Analysis"}),(0,t.jsx)("p",{className:"text-sm text-subtext-clr",children:"inspired by F1Tempo"})]}),(0,t.jsx)(r,{tracks:f,selectedTrack:e,onTrackChangeAction:a}),m&&x&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mt-6 grid lg:grid-cols-2 gap-6",children:[(0,t.jsx)("div",{className:"panel p-4",children:(0,t.jsx)(o,{svgFile:m.svgFile,corners:m.corners})}),(0,t.jsxs)("div",{className:"panel p-4",children:[(0,t.jsx)("div",{className:"text-lg font-bold",children:x.officialName}),(0,t.jsx)("div",{className:"text-gray-600",children:x.date})]})]}),(0,t.jsx)("div",{className:"mt-6 panel p-4",children:(0,t.jsx)(u,{corners:[],cornerInfo:m.corners})})]})]})}},3177:function(e,a,s){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t=s(6006),n=Symbol.for("react.element"),i=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,r=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(e,a,s){var t,i={},d=null,o=null;for(t in void 0!==s&&(d=""+s),void 0!==a.key&&(d=""+a.key),void 0!==a.ref&&(o=a.ref),a)l.call(a,t)&&!c.hasOwnProperty(t)&&(i[t]=a[t]);if(e&&e.defaultProps)for(t in a=e.defaultProps)void 0===i[t]&&(i[t]=a[t]);return{$$typeof:n,type:e,key:d,ref:o,props:i,_owner:r.current}}a.Fragment=i,a.jsx=d,a.jsxs=d},9268:function(e,a,s){"use strict";e.exports=s(3177)}},function(e){e.O(0,[253,961,744],function(){return e(e.s=2054)}),_N_E=e.O()}]);